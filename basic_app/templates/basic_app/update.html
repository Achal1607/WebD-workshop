{% extends 'base.html' %}

{% block body_block %}
{% if user.is_authenticated %}
<div class="d-flex justify-content-center h-100">
    <div class="user_card">
        <div class="form_container">
            Username: {{user.username}}
            <br>
            First Name: {{user.first_name}}
            <br>
            Last Name: {{user.last_name}}
            <br>
            Email: {{user.email}}
        </div>
        <form method="POST" class="mt-4">
            {% csrf_token %}
            <div class="input-group mb-3">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-flag"></i></span>
                </div>
                {{form.country_code}}
            </div>
            <div class="input-group mb-3">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-phone"></i></span>
                </div>
                {{form.ph_num}}
            </div>
            <div class="input-group mb-3">
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fas fa-receipt"></i></span>
                </div>
                {{form.pay_num}}
            </div>
            <div class="d-flex justify-content-center mt-3 login_container">
                <input class="btn login_btn" type="submit" value="Update">
            </div>
        </form>
    </div>
</div>
</div>
{% endif %}
<script>
    var form_fields = document.getElementsByTagName('input')
    form_fields[1].placeholder = 'Country Code';
    form_fields[1].defaultValue = '{{u.country_code}}'==='None'?'':'{{u.country_code}}';
    form_fields[2].placeholder = 'Phone Number';
    form_fields[2].defaultValue = '{{u.ph_num}}'==='None'?'':'{{u.ph_num}}';
    form_fields[3].placeholder = 'Payment Receipt Number';
    form_fields[3].defaultValue = '{{u.pay_num}}'==='None'?'':'{{u.pay_num}}';
    for (var field in form_fields) {
        form_fields[field].className += ' form-control'
    }
</script>
{% endblock %}